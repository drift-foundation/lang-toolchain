import std.console.out

exception OptErr(a: String, b: String)

fn raise_opt() returns Void {
    throw OptErr(a = "alpha", b = "beta")
}

fn main() returns Int {
    try {
        raise_opt()
    } catch OptErr(e) {
        val view = e.args
        val key_a = view.a()
        val opt_a = view[key_a]
        if opt_a.is_some() {
            out.writeln("SOME")
        } else {
            out.writeln("NONE")
        }
        return 0
    }
    out.writeln("no error")
    return 1
}
