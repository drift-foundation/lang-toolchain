import std.console.out

exception InvalidPayload(payload: String)

fn ingest(line: String) returns Void {
  val ^raw: String as "ingest.payload" = line

  if line == "" {
    throw InvalidPayload(payload = line)
  } else {
    out.writeln("accepted: " + line)
  }
}

fn main() returns Int {
  ingest("alpha")
  ingest("")
  return 0
}
